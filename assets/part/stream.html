<div class="m-3">
    <div class="videoku-wrap position-relative w-100" x-data="json">
        <video id="videoku" class="position-absolute video-js" controls preload="auto"
            x-init="$el.setAttribute('poster', `https://img.strpst.com/thumbs/${user.snapshotTimestamp}/${user.id}_webp`);">
            <source x-init="
        $el.src = `https://edge-hls.doppiocdn.com/hls/${user.id}/master/${user.id}.m3u8`;
        videojs('#videoku', {liveui: true});" type="application/x-mpegURL" />
            <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider upgrading to a
                web browser that
                <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
            </p>
        </video>
    </div>
    <div class="chat"></div>
    <div class="related" x-data="{ related: '', has: false }" x-init="async () => {
        const rel = await fetchJson(`${modules}/models/username/${window.location.hash.substring(1)}/related`);
        related = rel.models;
        has = related.length;
    }">
        <template x-if="has" x-data = "{html : ''}" x-init="html = await ( await fetch('assets/part/related.html?v=4') ).text()" x-html="html"></template>
    </div>
</div>